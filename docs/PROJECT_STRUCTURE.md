# üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ "–°–µ–≤–µ—Ä–Ω–∞—è –ö–æ—Ä–∑–∏–Ω–∞"

## üìÅ –û–±–∑–æ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

```
üåê GitHub: https://github.com/idob23/
‚îú‚îÄ‚îÄ üì± severnaya_korzina/              # –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Flutter
‚îú‚îÄ‚îÄ üîß severnaya_korzina_admin/        # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å Flutter Web  
‚îî‚îÄ‚îÄ üóÑÔ∏è severnaya-korzina-backend/     # Backend API Node.js
```

---

## üóÑÔ∏è BACKEND API (severnaya-korzina-backend)

### üìÇ –ö–æ—Ä–Ω–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
severnaya-korzina-backend/
‚îú‚îÄ‚îÄ üìÑ package.json              # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ üìÑ .env                      # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ üìÑ .gitignore               # –ò—Å–∫–ª—é—á–µ–Ω–∏—è Git
‚îú‚îÄ‚îÄ üóÑÔ∏è prisma/                  # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma           # –°—Ö–µ–º–∞ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ migrations/             # –ú–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ seed.js                 # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ üìÅ src/                     # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îú‚îÄ‚îÄ üìÅ public/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ downloads/              # APK —Ñ–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
‚îî‚îÄ‚îÄ üìÑ Dockerfile               # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
```

### üîß src/ - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥:
```
src/
‚îú‚îÄ‚îÄ üåê server.js                # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ üìÅ routes/                  # API –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                 # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ users.js               # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ products.js            # –¢–æ–≤–∞—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ orders.js              # –ó–∞–∫–∞–∑—ã (–ò–°–ü–†–ê–í–õ–ï–ù)
‚îÇ   ‚îú‚îÄ‚îÄ payments.js            # –ü–ª–∞—Ç–µ–∂–∏ (–ò–°–ü–†–ê–í–õ–ï–ù)
‚îÇ   ‚îú‚îÄ‚îÄ batches.js             # –ó–∞–∫—É–ø–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ addresses.js           # –ê–¥—Ä–µ—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ admin.js               # –ê–¥–º–∏–Ω—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ sms.js                 # SMS —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îî‚îÄ‚îÄ app.js                 # üÜï API –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ üìÅ middleware/              # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ü–û
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ safety.js              # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îî‚îÄ‚îÄ üìÅ utils/                   # –£—Ç–∏–ª–∏—Ç—ã
    ‚îî‚îÄ‚îÄ batchCalculations.js    # –†–∞—Å—á–µ—Ç—ã –∑–∞–∫—É–ø–æ–∫
```

### üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```
PostgreSQL Database:
‚îú‚îÄ‚îÄ üë• users                   # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îú‚îÄ‚îÄ üè† addresses               # –ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
‚îú‚îÄ‚îÄ üì¶ categories              # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
‚îú‚îÄ‚îÄ üõçÔ∏è products                # –¢–æ–≤–∞—Ä—ã
‚îú‚îÄ‚îÄ üìä batches                 # –ó–∞–∫—É–ø–∫–∏/–ø–∞—Ä—Ç–∏–∏
‚îú‚îÄ‚îÄ üìã batch_items             # –¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫—É–ø–∫–∞—Ö
‚îú‚îÄ‚îÄ üõí orders                  # –ó–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îî‚îÄ‚îÄ üìù order_items             # –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤
```

---

## üì± –ú–û–ë–ò–õ–¨–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï (severnaya_korzina)

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Flutter:
```
severnaya_korzina/
‚îú‚îÄ‚îÄ üìÑ pubspec.yaml             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Flutter (–≤–µ—Ä—Å–∏—è 1.2.0+12)
‚îú‚îÄ‚îÄ üìÅ lib/                     # –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ üéØ main.dart           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å UpdateService
‚îÇ   ‚îú‚îÄ‚îÄ üì± screens/            # –≠–∫—Ä–∞–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ üîß services/           # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ üé® widgets/            # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ üìä models/             # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ üîÑ providers/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
‚îÇ   ‚îî‚îÄ‚îÄ üé® constants/          # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ ü§ñ android/                # Android –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ üçé ios/                    # iOS –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ üåê web/                    # Web –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ üìÅ docs/                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ PROJECT_OVERVIEW.md   # –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ CURRENT_STATUS.md     # –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
‚îÇ   ‚îî‚îÄ‚îÄ PROJECT_STRUCTURE.md  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ üìÅ build/                  # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
    ‚îî‚îÄ‚îÄ app/outputs/flutter-apk/
        ‚îî‚îÄ‚îÄ app-release.apk    # –ì–æ—Ç–æ–≤—ã–π APK
```

### üì± lib/ - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥:
```
lib/
‚îú‚îÄ‚îÄ screens/                    # –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ auth/                  # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login_screen.dart  # –í—Ö–æ–¥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register_screen.dart # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ catalog/               # –ö–∞—Ç–∞–ª–æ–≥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog_screen.dart # –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ product_detail_screen.dart # –î–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ cart/                  # –ö–æ—Ä–∑–∏–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ orders/                # –ó–∞–∫–∞–∑—ã
‚îÇ   ‚îú‚îÄ‚îÄ profile/               # –ü—Ä–æ—Ñ–∏–ª—å (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π)
‚îÇ   ‚îî‚îÄ‚îÄ splash/                # –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω
‚îú‚îÄ‚îÄ services/                   # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ api_service.dart       # HTTP –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ auth_service.dart      # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ storage_service.dart   # –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ sms_service.dart       # SMS —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îú‚îÄ‚îÄ notification_service.dart # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ update_service.dart    # üÜï –°–µ—Ä–≤–∏—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ providers/                  # –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ auth_provider.dart     # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ catalog_provider.dart  # –ö–∞—Ç–∞–ª–æ–≥
‚îÇ   ‚îú‚îÄ‚îÄ cart_provider.dart     # –ö–æ—Ä–∑–∏–Ω–∞
‚îÇ   ‚îî‚îÄ‚îÄ orders_provider.dart   # –ó–∞–∫–∞–∑—ã
‚îî‚îÄ‚îÄ constants/                  # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
    ‚îú‚îÄ‚îÄ api_constants.dart     # API endpoints
    ‚îú‚îÄ‚îÄ colors.dart           # –¶–≤–µ—Ç–∞
    ‚îî‚îÄ‚îÄ order_status.dart     # –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
```

### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```yaml
dependencies:
  # –û—Å–Ω–æ–≤–Ω—ã–µ
  flutter: sdk
  http: ^1.2.0
  provider: ^6.1.1
  shared_preferences: ^2.3.0
  
  # –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  package_info_plus: ^8.3.1
  dio: ^5.4.0
  open_file: ^3.5.10
  permission_handler: ^12.0.1
  path_provider: ^2.1.5
  
  # UI –∏ —É—Ç–∏–ª–∏—Ç—ã
  intl: ^0.20.0
  mask_text_input_formatter: ^2.9.0
  qr_flutter: ^4.1.0
  url_launcher: ^6.2.0
  webview_flutter: ^4.5.0
  flutter_secure_storage: ^9.2.1
```

---

## üîß –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨ (severnaya_korzina_admin)

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–¥–º–∏–Ω–∫–∏:
```
severnaya_korzina_admin/
‚îú‚îÄ‚îÄ üìÑ pubspec.yaml             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ üìÅ lib/                     # –ö–æ–¥ –∞–¥–º–∏–Ω–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ üéØ main.dart           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ üìä screens/            # –≠–∫—Ä–∞–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ üîß services/           # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ üìà widgets/            # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ üîÑ providers/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
‚îÇ   ‚îî‚îÄ‚îÄ üé® constants/          # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îî‚îÄ‚îÄ üåê web/                    # Web –∫–æ–Ω—Ñ–∏–≥ —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
```

---

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å—ã –¥–µ–ø–ª–æ—è

### üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
1. –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ `pubspec.yaml`
2. `flutter build apk --release`
3. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `severnaya-korzina-X.Y.Z.apk`
4. –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ `/public/downloads/`
5. –û–±–Ω–æ–≤–∏—Ç—å `src/routes/app.js`
6. `pm2 restart all`

### üåê –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
1. `flutter build web --release`
2. `.\deploy_with_cleanup.ps1`
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ `/app/`

### üóÑÔ∏è Backend:
1. `git pull`
2. `npm install`
3. `npx prisma migrate deploy`
4. `pm2 restart severnaya-backend`

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –†–∞–∑–º–µ—Ä—ã:
- **Backend**: ~15 MB (–±–µ–∑ node_modules)
- **Mobile APK**: ~35 MB
- **Web App**: ~10 MB
- **Admin Panel**: ~8 MB
- **Database**: ~50 MB

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤:
- **Backend**: ~50 —Ñ–∞–π–ª–æ–≤
- **Mobile**: ~100 —Ñ–∞–π–ª–æ–≤
- **Admin**: ~80 —Ñ–∞–π–ª–æ–≤

### –°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞:
- **JavaScript (Backend)**: ~5,000
- **Dart (Flutter)**: ~15,000
- **SQL (Prisma)**: ~500

---

## üîë –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- `.env` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ Git!)
- `pubspec.yaml` - –≤–µ—Ä—Å–∏—è –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Flutter
- `package.json` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Node.js
- `prisma/schema.prisma` - —Å—Ö–µ–º–∞ –ë–î

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã:
- `src/server.js` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ backend
- `lib/main.dart` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ mobile
- `lib/services/api_service.dart` - API –∫–ª–∏–µ–Ω—Ç
- `lib/services/update_service.dart` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `docs/PROJECT_OVERVIEW.md` - –æ–±–∑–æ—Ä
- `docs/CURRENT_STATUS.md` - —Å—Ç–∞—Ç—É—Å
- `docs/PROJECT_STRUCTURE.md` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- `README.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

---

> üìå **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞ –Ω–∞ 31.12.2024. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç!